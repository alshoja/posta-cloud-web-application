import{g as M,av as V,h as j,J as E,aB as B,o as c,c as x,w as t,a as s,a4 as z,V as y,f as m,b as l,e as L,B as q,a5 as P,aO as W,n as w,u as h,t as d,ah as U,aK as H,at as J,L as F,au as K,q as Q,aP as C,aQ as T,d as n,aR as N,am as I,v as $,F as k,ao as A,aS as R,aT as X,an as S,ap as O,aG as Y}from"./index-CW6UmzU3.js";import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b="//records",We=M("Record",{state:()=>({records:{},record:{}}),actions:{async createPersonalData(a){try{return(await V.post(`${b}/step/one`,a,{headers:{"Content-Type":"application/json"}})).data}catch(o){throw console.error("Error creating record:",o),o}},async createIdentificationData(a,o){try{return(await V.post(`${b}/step/two/${o}`,a,{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error creating record:",r),r}},async createOccupationData(a,o){try{return(await V.post(`${b}/step/three/${o}`,a,{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error creating record:",r),r}},async createFamilyData(a,o){try{return(await V.post(`${b}/step/four/${o}`,a,{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error creating record:",r),r}},async createPolicyData({policies:a},o){try{return(await V.post(`${b}/step/five/${o}`,a,{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error creating record:",r),r}},async createDocumentsData({documents:a},o){try{return(await V.post(`${b}/step/six/${o}`,a,{headers:{"Content-Type":"application/json"}})).data}catch(r){throw console.error("Error creating record:",r),r}},async fetchAllRecords({search:a="",page:o=1,limit:r=10,sortBy:D="id",sortOrder:v="DESC"}={}){try{const p=await V.get(b,{params:{search:a,page:o,limit:r,sortBy:D,sortOrder:v}});this.records=p.data}catch(p){console.error("Failed to fetch records:",p)}},async fetchRecordById(a){try{const o=await V.get(`${b}/${a}`);this.record=o.data}catch(o){throw console.error("Error fetching record:",o),o}},async remove(a){try{return(await V.delete(`${b}/${a}`,{headers:{"Content-Type":"application/json"}})).data}catch(o){throw console.error("Error creating record:",o),o}},addRecord(a){this.records.data=[...this.records.data,a]}}}),ee=["src"],te={key:2,class:"modal-text"},se=j({__name:"FileViewer",props:{isVisible:{type:Boolean},file:{}},emits:["update:isVisible"],setup(a,{emit:o}){const r=a,D=o,v=E(r.isVisible),p=E(null),e=E(null),_=E(null),f=()=>{v.value=!1},i=u=>{const g=u.split(".").pop();console.log("ğŸš€ ~ handleFileUpload ~ fileType:",g),u&&(g==="jpeg"||g==="jpg"||g==="png"?(p.value=u,e.value=null,_.value=null):g==="pdf"?(e.value=u,p.value=null,_.value=null):g==="txt"?(_.value=`File URL: ${u}`,p.value=null,e.value=null):alert("File type not supported"))};return B(()=>r.file,i,{immediate:!0}),B(v,u=>{D("update:isVisible",u)}),B(()=>r.isVisible,u=>{v.value=u}),B(()=>r.file,i,{immediate:!0}),(u,g)=>(c(),x(H,{modelValue:v.value,"onUpdate:modelValue":g[0]||(g[0]=G=>v.value=G),"max-width":"600px"},{default:t(()=>[s(U,null,{default:t(()=>[s(z,{class:"d-flex align-center justify-between"},{default:t(()=>[s(y,{class:"no-gutters"},{default:t(()=>[s(m,{class:"d-flex align-center"},{default:t(()=>g[1]||(g[1]=[l("h4",{variant:"h6",class:"font-weight-bold",color:"primary"}," File Viewer ",-1)])),_:1})]),_:1}),s(L,{icon:"",onClick:f,class:"rounded-circle"},{default:t(()=>[s(q(J),{"stroke-width":"1.5",width:"20",class:"text-error"})]),_:1})]),_:1}),s(P,null,{default:t(()=>[p.value?(c(),x(W,{key:0,src:p.value,"aspect-ratio":"1.5"},null,8,["src"])):w("",!0),e.value?(c(),h("iframe",{key:1,src:e.value,width:"100%",height:"500px"},null,8,ee)):w("",!0),_.value?(c(),h("pre",te,d(_.value),1)):w("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),ae=Z(se,[["__scopeId","data-v-a5e3dec7"]]),le="/assets/profile-Dfqkz6jG.png",oe={class:"d-flex flex-column align-center justify-center"},ne=["src"],re=j({__name:"ProfileImage",props:{url:{type:String,required:!1,default:null}},setup(a){return(o,r)=>(c(),x(m,{cols:"12",md:"12"},{default:t(()=>[l("div",oe,[a.url?(c(),x(F,{key:0,image:a.url,size:"100"},null,8,["image"])):w("",!0),a.url?w("",!0):(c(),x(F,{key:1,size:"100"},{default:t(()=>[l("img",{width:"100%",src:q(le),alt:"avatar"},null,8,ne)]),_:1}))])]),_:1}))}}),de={class:"text-caption"},ie={class:"text-caption"},ue={class:"text-caption"},ce={class:"text-caption"},me={class:"text-caption"},fe={class:"text-caption"},pe={class:"text-caption"},he={class:"text-caption"},xe={class:"text-caption"},ge={class:"text-caption"},ye={class:"text-caption"},ve={class:"text-caption"},Ve={class:"text-caption"},be={class:"text-caption"},we={class:"text-caption"},_e={class:"text-h6"},De={class:"text-caption"},Ce={class:"text-h6"},Te={class:"text-caption"},Ne={class:"text-h6"},$e={class:"text-caption"},ke={class:"text-caption"},Ee={class:"text-caption"},Pe={class:"text-h6"},Be={class:"text-caption"},Ue={class:"text-h6"},je={class:"text-caption"},Fe={class:"text-h6"},Ie={class:"text-caption"},Ae={class:"text-caption"},Re={class:"text-caption"},Se={class:"text-caption"},Oe={key:0},Le={class:"text-caption"},qe={class:"text-caption"},Ge={key:0},He=j({__name:"ViewComponent",props:{form:{type:Object,required:!0}},setup(a){const o=K({activeTab:0,activeTabChild:0}),r=E(!1),D=E(""),v=p=>{a.form.documents&&(D.value=a.form.documents[p].file,r.value=!0)};return(p,e)=>{const _=Q("UiParentCard");return c(),x(_,{title:"Personal Details"},{default:t(()=>[s(re,{url:a.form.profileImage},null,8,["url"]),s(X,{multiple:""},{default:t(()=>[s(C,null,{default:t(()=>[s(T,{color:"lightsecondary"},{default:t(()=>e[5]||(e[5]=[n("Personal Details")])),_:1}),s(N,null,{default:t(()=>[s(y,{dense:""},{default:t(()=>[s(m,{class:"text-h6",cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e[6]||(e[6]=n("Name : ")),l("span",de,d(a.form.firstName),1)]),_:1}),s(m,{class:"text-h6",cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e[7]||(e[7]=n("Last Name: ")),l("span",ie,d(a.form.lastName),1)]),_:1}),s(m,{class:"text-h6",cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e[8]||(e[8]=n("Email: ")),l("span",ue,d(a.form.email),1)]),_:1})]),_:1}),s(y,{dense:""},{default:t(()=>[s(m,{class:"text-h6",cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e[9]||(e[9]=n("Mobile Number: ")),l("span",ce,d(a.form.mobileNumber),1)]),_:1}),s(m,{class:"text-h6",cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e[10]||(e[10]=n("WhatsApp Number: ")),l("span",me,d(a.form.whatsappNumber),1)]),_:1}),s(m,{class:"text-h6",cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e[11]||(e[11]=n("Date of Birth: ")),l("span",fe,d(a.form.dateOfBirth),1)]),_:1})]),_:1}),s(y,{dense:""},{default:t(()=>[s(m,{class:"text-h6",cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e[12]||(e[12]=n("Gender: ")),l("span",pe,d(a.form.gender),1)]),_:1}),s(m,{class:"text-h6",cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e[13]||(e[13]=n("House Name: ")),l("span",he,d(a.form.houseName),1)]),_:1}),s(m,{class:"text-h6",cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e[14]||(e[14]=n("House Number: ")),l("span",xe,d(a.form.houseNumber),1)]),_:1})]),_:1})]),_:1})]),_:1}),s(C,null,{default:t(()=>[s(T,{color:"lightsecondary"},{default:t(()=>e[15]||(e[15]=[n("Sensitive Details")])),_:1}),s(N,null,{default:t(()=>[s(y,{dense:""},{default:t(()=>[s(m,{sm:"6",md:"4",lg:"6",class:"text-h6",cols:"4"},{default:t(()=>[e[16]||(e[16]=n("Adhar Number: ")),l("span",ge,d(a.form.aadhaarNumber),1)]),_:1}),s(m,{sm:"6",md:"4",lg:"6",class:"text-h6",cols:"4"},{default:t(()=>[e[17]||(e[17]=n("Driving License: ")),l("span",ye,d(a.form.drivingLicense),1)]),_:1}),s(m,{sm:"6",md:"4",lg:"6",class:"text-h6",cols:"4"},{default:t(()=>[e[18]||(e[18]=n("Election ID: ")),l("span",ve,d(a.form.electionID),1)]),_:1}),s(m,{sm:"6",md:"4",lg:"6",class:"text-h6",cols:"4"},{default:t(()=>[e[19]||(e[19]=n("Passport Number: ")),l("span",Ve,d(a.form.passportNumber),1)]),_:1})]),_:1})]),_:1})]),_:1}),s(C,null,{default:t(()=>[s(T,{color:"lightsecondary"},{default:t(()=>e[20]||(e[20]=[n("Occupation & Address ")])),_:1}),s(N,null,{default:t(()=>[s(y,{dense:""},{default:t(()=>[s(m,null,{default:t(()=>[s(y,{class:"pa-2",dense:""},{default:t(()=>[s(m,{sm:"6",md:"4",lg:"4",class:"text-h6"},{default:t(()=>[e[21]||(e[21]=n("Occupation: ")),l("span",be,d(a.form.job),1)]),_:1}),s(m,{sm:"6",md:"4",lg:"4",class:"text-h6"},{default:t(()=>[e[22]||(e[22]=n("Retirement Date: ")),l("span",we,d(a.form.retirementDate),1)]),_:1})]),_:1})]),_:1}),s(m,null,{default:t(()=>[s(y,{class:"pa-2",dense:""},{default:t(()=>{var f;return[(f=a.form.addresses)!=null&&f.length?(c(),x(U,{key:0},{default:t(()=>[s(I,{modelValue:o.activeTab,"onUpdate:modelValue":e[0]||(e[0]=i=>o.activeTab=i),"bg-color":"containerBg"},{default:t(()=>[(c(!0),h(k,null,$(a.form.addresses,(i,u)=>(c(),x(S,{class:"text-h6",key:u,value:u},{default:t(()=>[n(" Address "+d(u+1),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),s(P,null,{default:t(()=>[s(A,{modelValue:o.activeTab,"onUpdate:modelValue":e[1]||(e[1]=i=>o.activeTab=i)},{default:t(()=>[(c(!0),h(k,null,$(a.form.addresses,(i,u)=>(c(),x(O,{class:"text-h6",key:u,value:u},{default:t(()=>[s(P,null,{default:t(()=>[l("p",_e,[e[23]||(e[23]=n("Street Name: ")),l("span",De,d(i.houseName),1)]),l("p",Ce,[e[24]||(e[24]=n("Street Name: ")),l("span",Te,d(i.streetName),1)]),l("p",Ne,[e[25]||(e[25]=n("Village: ")),l("span",$e,d(i.village),1)])]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):w("",!0)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(C,null,{default:t(()=>[s(T,{color:"lightsecondary"},{default:t(()=>e[26]||(e[26]=[n("Family Details")])),_:1}),s(N,null,{default:t(()=>[s(y,{dense:""},{default:t(()=>[s(m,null,{default:t(()=>[s(y,{class:"pa-2",dense:""},{default:t(()=>[s(m,{sm:"6",md:"4",lg:"4",class:"text-h6"},{default:t(()=>[e[27]||(e[27]=n(" Marriage Date: ")),l("span",ke,d(a.form.marriageDate),1)]),_:1}),s(m,{sm:"6",md:"4",lg:"4",class:"text-h6"},{default:t(()=>[e[28]||(e[28]=n(" Previous Address: ")),l("span",Ee,d(a.form.previousAddress),1)]),_:1})]),_:1})]),_:1}),s(m,{sm:"6",md:"4",lg:"6"},{default:t(()=>[s(y,{class:"pa-2",dense:""},{default:t(()=>{var f;return[(f=a.form.children)!=null&&f.length?(c(),x(U,{key:0},{default:t(()=>[s(I,{modelValue:o.activeTabChild,"onUpdate:modelValue":e[2]||(e[2]=i=>o.activeTabChild=i),"bg-color":"containerBg"},{default:t(()=>[(c(!0),h(k,null,$(a.form.children,(i,u)=>(c(),x(S,{class:"text-h6",key:u,value:u},{default:t(()=>[n(" Child "+d(u+1),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),s(P,null,{default:t(()=>[s(A,{modelValue:o.activeTabChild,"onUpdate:modelValue":e[3]||(e[3]=i=>o.activeTabChild=i)},{default:t(()=>[(c(!0),h(k,null,$(a.form.children,(i,u)=>(c(),x(O,{class:"text-h6",key:u},{default:t(()=>[s(P,null,{default:t(()=>[l("p",Pe,[e[29]||(e[29]=n("Name: ")),l("span",Be,d(i.name),1)]),l("p",Ue,[e[30]||(e[30]=n("DOB: ")),l("span",je,d(i.dateOfBirth),1)]),l("p",Fe,[e[31]||(e[31]=n("Gender: ")),l("span",Ie,d(i.gender),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):w("",!0)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),s(C,null,{default:t(()=>[s(T,{color:"lightsecondary"},{default:t(()=>e[32]||(e[32]=[n(" Policies")])),_:1}),s(N,null,{default:t(()=>[s(R,null,{default:t(()=>[e[34]||(e[34]=l("thead",null,[l("tr",null,[l("th",{class:"text-h6"},"#"),l("th",{class:"text-h6"},"Type"),l("th",{class:"text-h6"},"Number")])],-1)),l("tbody",null,[(c(!0),h(k,null,$(a.form.policies,(f,i)=>(c(),h("tr",{key:i},[l("td",Ae,d(i+1),1),l("td",Re,d(f.type),1),l("td",Se,d(f.number),1)]))),128)),!a.form.policies||a.form.policies.length===0?(c(),h("tr",Oe,e[33]||(e[33]=[l("td",{colspan:"3",class:"text-caption"},"No Policies available",-1)]))):w("",!0)])]),_:1})]),_:1})]),_:1}),s(C,null,{default:t(()=>[s(T,{color:"lightsecondary"},{default:t(()=>e[35]||(e[35]=[n("Documents ")])),_:1}),s(N,null,{default:t(()=>[s(R,null,{default:t(()=>[e[38]||(e[38]=l("thead",null,[l("tr",null,[l("th",{class:"text-h6"},"#"),l("th",{class:"text-h6"},"Document Name"),l("th",{class:"text-h6"},"Attachment")])],-1)),l("tbody",null,[(c(!0),h(k,null,$(a.form.documents,(f,i)=>(c(),h("tr",{key:i},[l("td",Le,d(i+1),1),l("td",qe,d(f.name),1),l("td",null,[s(Y,null,{default:t(()=>[s(L,{class:"overlay",color:"primary",onClick:u=>v(i)},{default:t(()=>e[36]||(e[36]=[n(" View Document ")])),_:2},1032,["onClick"])]),_:2},1024)])]))),128)),!a.form.documents||a.form.documents.length===0?(c(),h("tr",Ge,e[37]||(e[37]=[l("td",{colspan:"3",class:"text-caption"},"No Documents available",-1)]))):w("",!0)])]),_:1})]),_:1})]),_:1}),s(ae,{isVisible:r.value,file:D.value||"","onUpdate:isVisible":e[4]||(e[4]=f=>r.value=f)},null,8,["isVisible","file"])]),_:1})]),_:1})}}});export{ae as F,re as _,He as a,We as u};

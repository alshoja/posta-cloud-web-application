import{_ as ye,a as O}from"./UiParentCard.vue_vue_type_script_setup_true_lang-Cx9HQTQj.js";import{au as _,g as Ne,av as ge,h as Z,J as q,o as f,u as x,a as e,aw as Ue,c as g,ax as De,n as C,F as M,ay as Se,az as ke,aA as we,y as Ce,aB as he,aC as Fe,aa as Ie,w as a,aD as Oe,aE as L,V as N,f as o,B as m,H as s,K as $,aF as Ae,v as H,e as D,d as S,_ as Re,aG as j}from"./index-DgrNKPXW.js";import{u as _e,_ as Pe,F as qe,a as Be}from"./ViewComponent.vue_vue_type_script_setup_true_lang-DKCYbjkL.js";import{_ as Le}from"./_plugin-vue_export-helper-DlAUqK2U.js";function xe(){const h=()=>({houseName:"",houseNumber:"",streetName:"",streetNumber:"",village:"",postOffice:"",locationType:""}),d=()=>({name:"",dateOfBirth:"",gender:""}),v=()=>({name:"",file:""}),F=()=>({type:"",number:""}),k={valid:!1,id:"",profileImage:"",email:"",firstName:"",lastName:"",houseName:"",houseNumber:"",streetName:"",streetNumber:"",postOffice:"",village:"",panchayat:"",district:"",mobileNumber:"",whatsappNumber:"",dateOfBirth:"",gender:"",address:h(),locationType:"",children:[d()],redirectionAddress:!1,isAbroad:!1,isRedirected:!1},n={valid:!1,password:"",aadhaarNumber:"",drivingLicense:"",electionID:"",passportNumber:"",postBoxNumber:""},U={valid:!1,redirectionAddress:!1,isAbroad:!1,...h(),job:"",retirementDate:"",isRedirected:!1,redirectedHouseName:"",redirectedHouseNumber:"",addresses:[h()]},B={valid:!0,marriageDate:"",previousAddress:"",children:[d()]},P={valid:!0,policies:[F()]},I={valid:!0,documents:[v()]};return{stepOneInitialState:k,stepTwoInitialState:n,stepThreeInitialState:U,stepFourInitialState:B,stepFiveInitialState:P,stepSixInitialState:I}}function Me(){return _({onlyNumbers:d=>/^\d*$/.test(d)||"Only numbers are allowed.",required:d=>!!d||"This field is required.",minLength:d=>v=>String(v).length>=d||`Minimum ${d} characters required.`,maxLength:d=>v=>String(v).length<=d||`Maximum ${d} characters allowed.`,pattern:(d,v)=>F=>d.test(F)||v,email:d=>/.+@.+\..+/.test(d)||"E-mail must be valid.",mobileNumber:d=>/^\d{10}$/.test(d)||"Mobile number must be 10 digits.",aadhaarNumber:d=>/^\d{12}$/.test(d)||"Aadhaar number must be 12 digits.",dateOfBirth:d=>{const v=new Date;return new Date(d)<v||"Date of birth must be in the past."},gender:d=>["male","female","other"].includes(d)||"Gender must be Male, Female, or Other.",policyNumber:d=>/^[A-Z0-9]{8,12}$/.test(d)||"Policy number must be 8-12 alphanumeric characters.",childName:d=>!!d||"Child name is required.",childGender:d=>["Male","Female","Other"].includes(d)||"Child gender must be Male, Female, or Other.",childDateOfBirth:d=>{const v=new Date;return new Date(d)<v||"Child's date of birth must be in the past."}})}const Te="//upload",$e=Ne("File",{state:()=>({fileUrl:""}),actions:{async uploadFile(h){try{const d=await ge.post(Te,h,{headers:{"Content-Type":"multipart/form-data"}});this.fileUrl=d.data.url}catch(d){console.error("Upload failed:",d)}finally{}}}}),He=Z({__name:"FileUpload",props:{rules:{type:Array,default:()=>[]},label:{type:String,default:"Upload File"},accept:{type:String,default:"*/*"}},emits:["uploaded"],setup(h,{emit:d}){const v=$e(),F=d,k=q(null),n=q(!1),U=()=>{k.value&&B()},B=async()=>{if(!k.value)return;n.value=!0;const P=new FormData;P.append("file",k.value);try{await v.uploadFile(P);const I=v.fileUrl;F("uploaded",I)}catch(I){console.error("Upload failed:",I)}finally{n.value=!1}};return(P,I)=>(f(),x(M,null,[e(Ue,{variant:"outlined",label:"Upload Profile Image",accept:h.accept,modelValue:k.value,"onUpdate:modelValue":I[0]||(I[0]=E=>k.value=E),rules:h.rules,onChange:U,dense:!0,"hide-details":!0,outlined:!0},null,8,["accept","modelValue","rules"]),n.value?(f(),g(De,{key:0,indeterminate:"",color:"secondary",size:"40",width:"4"})):C("",!0)],64))}}),W=Le(He,[["__scopeId","data-v-4b569e33"]]),Je=Z({__name:"RecordForm",setup(h){const d=Se(),v=q(!1),F=ke(),k=we(),n=Me(),U=_e(),{stepOneInitialState:B,stepTwoInitialState:P,stepThreeInitialState:I,stepFourInitialState:E,stepFiveInitialState:Q,stepSixInitialState:X}=xe(),Y=q({title:"Record Collection"}),ee=Ce([{title:"Records",disabled:!1,href:"#"},{title:d.name?String(d.name):"",disabled:!0,href:"#"}]),c=_({step:1,edit:!1,show1:!1,show2:!0,items:["Personal Details","Sensitive Details","Occupation & Address","Family Details","Policies","Documents","Review & Submit"]}),r=_({...B}),b=_({...P}),p=_({...I}),y=_({...E}),A=_({...Q}),w=_({...X}),R=q(!1),G=q(!1),J=q(""),le=()=>{p.addresses.push({houseName:"",houseNumber:"",streetName:"",streetNumber:"",village:"",postOffice:"",locationType:""})},ae=i=>{p.addresses.splice(i,1)},te=()=>{y.children||(y.children=[]),y.children.push({name:"",dateOfBirth:"",gender:""})},oe=i=>{y.children&&y.children.splice(i,1)},de=()=>{w.documents.push({name:"",file:""})},ue=i=>{w.documents.splice(i,1)},re=()=>{A.policies.push({type:"",number:""})},se=i=>{A.policies.splice(i,1)},ne=i=>{[r,b,p,y,A,w].forEach(l=>Object.assign(l,i))},ie=(i,t)=>Object.assign(i,t);he(()=>d.params.recordId,async i=>{var t,l;if(c.edit=!!i,i){const V=Array.isArray(i)?i[0]:i;let u=(l=(t=U.records)==null?void 0:t.data)==null?void 0:l.find(T=>T.id===V);try{u||(await U.fetchRecordById(V),u=U.record),ne(u)}catch(T){T.status===404?k.push({name:"NotFound"}):console.error("An unexpected error occurred:",T)}}else ie(r,B)},{immediate:!0}),Fe(()=>{});const K=Ie(()=>c.step===1?r.valid:c.step===2?b.valid:c.step===3?p.valid:c.step===4?y.valid:c.step===5?A.valid:c.step===6?w.valid:!1),me=()=>{k.push({name:"Family Details Collection"}),F.showSnackbar("Data submitted successfully!","success",[])},z=()=>{K.value&&c.step++},ce=()=>{c.step>1&&c.step--},pe=async()=>{var V;const i=d.params.recordId||"",l={1:{method:async()=>(r.id=i,await U.createPersonalData(r)),successMessage:"Personal Data updated successfully",onSuccess:u=>{c.edit||k.push({name:"Edit Record",params:{recordId:u.id}}),z()}},2:{method:()=>U.createIdentificationData(b,i),successMessage:"Identification Data submitted successfully"},3:{method:()=>U.createOccupationData(p,i),successMessage:"Occupation Data submitted successfully"},4:{method:()=>U.createFamilyData(y,i),successMessage:"Family Data submitted successfully"},5:{method:()=>U.createPolicyData(A,i),successMessage:"Policy Data submitted successfully"},6:{method:()=>U.createDocumentsData(w,i),successMessage:"Document Data submitted successfully"}}[c.step];if(!l){console.log("Unknown step, no data to submit.");return}try{v.value=!0;const u=await l.method();F.showSnackbar(l.successMessage,"success",[]),(V=l.onSuccess)==null||V.call(l,u),z()}catch(u){console.log("🚀 error:",u)}finally{v.value=!1}},fe=()=>{b.password==="alshoja"?R.value=!0:R.value=!1};function be(i){r.profileImage=i}function Ve(i,t){w.documents[t].file=i}const ve=i=>{J.value=w.documents[i].file,G.value=!0};return(i,t)=>(f(),x(M,null,[e(ye,{title:Y.value.title,breadcrumbs:ee.value},null,8,["title","breadcrumbs"]),e(O,{title:"Create Record"},{default:a(()=>[e(Oe,{rounded:"lg",editable:c.edit,modelValue:c.step,"onUpdate:modelValue":t[35]||(t[35]=l=>c.step=l),items:c.items},{"item.1":a(()=>[e(L,{modelValue:r.valid,"onUpdate:modelValue":t[15]||(t[15]=l=>r.valid=l)},{default:a(()=>[e(O,{title:"Personal Information"},{default:a(()=>[e(N,{class:"mb-4"},{default:a(()=>[e(Pe,{url:r.profileImage},null,8,["url"]),e(o,{cols:"12",md:"12",class:"border border-secondary rounded"},{default:a(()=>[e(W,{label:"Upload Profile Image",accept:"image/jpeg, image/png",rules:[m(n).required],onUploaded:be},null,8,["rules"])]),_:1})]),_:1}),e(N,{class:"border border-secondary rounded pa-2 mb-3"},{default:a(()=>[e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.firstName,"onUpdate:modelValue":t[0]||(t[0]=l=>r.firstName=l),label:"First Name*",required:"",rules:[m(n).required]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.lastName,"onUpdate:modelValue":t[1]||(t[1]=l=>r.lastName=l),label:"Last Name*",required:"",rules:[m(n).required]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.email,"onUpdate:modelValue":t[2]||(t[2]=l=>r.email=l),label:"Email*",rules:[m(n).required,m(n).email]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.houseName,"onUpdate:modelValue":t[3]||(t[3]=l=>r.houseName=l),label:"House Name*",rules:[m(n).required]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.houseNumber,"onUpdate:modelValue":t[4]||(t[4]=l=>r.houseNumber=l),label:"House Number"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.streetName,"onUpdate:modelValue":t[5]||(t[5]=l=>r.streetName=l),label:"Street Name*",rules:[m(n).required]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.streetNumber,"onUpdate:modelValue":t[6]||(t[6]=l=>r.streetNumber=l),label:"Street Number"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{type:"number",variant:"outlined",modelValue:r.postOffice,"onUpdate:modelValue":t[7]||(t[7]=l=>r.postOffice=l),label:"Post Office*",rules:[m(n).required,m(n).maxLength(6),m(n).minLength(6)]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.village,"onUpdate:modelValue":t[8]||(t[8]=l=>r.village=l),label:"Village*",rules:[m(n).required]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.panchayat,"onUpdate:modelValue":t[9]||(t[9]=l=>r.panchayat=l),label:"Panchayat*",rules:[m(n).required]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.district,"onUpdate:modelValue":t[10]||(t[10]=l=>r.district=l),label:"District*",rules:[m(n).required]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.mobileNumber,"onUpdate:modelValue":t[11]||(t[11]=l=>r.mobileNumber=l),label:"Mobile Number(+91)",required:"",rules:[m(n).required,m(n).mobileNumber]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.whatsappNumber,"onUpdate:modelValue":t[12]||(t[12]=l=>r.whatsappNumber=l),label:"WhatsApp Number(+91)"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:r.dateOfBirth,"onUpdate:modelValue":t[13]||(t[13]=l=>r.dateOfBirth=l),label:"Date of Birth*",type:"date",required:"",rules:[m(n).required,m(n).dateOfBirth]},null,8,["modelValue","rules"])]),_:1}),e(o,{cols:"12",md:"4"},{default:a(()=>[e($,{variant:"outlined",modelValue:r.gender,"onUpdate:modelValue":t[14]||(t[14]=l=>r.gender=l),items:["male","female","other"],label:"Gender*",required:"",rules:[m(n).required,m(n).gender]},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),"item.2":a(()=>[e(L,{modelValue:b.valid,"onUpdate:modelValue":t[22]||(t[22]=l=>b.valid=l)},{default:a(()=>[e(O,{title:"Identity Documents"},{default:a(()=>[e(N,{class:"border border-secondary rounded pa-2 mb-3"},{default:a(()=>[e(o,{cols:"12",md:"12"},{default:a(()=>[R.value?C("",!0):(f(),g(s,{key:0,variant:"outlined",label:"Enter password to unlock sensitive data",modelValue:b.password,"onUpdate:modelValue":t[16]||(t[16]=l=>b.password=l),type:"password",onInput:fe},null,8,["modelValue"]))]),_:1}),R.value?(f(),g(o,{key:0,cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:b.aadhaarNumber,"onUpdate:modelValue":t[17]||(t[17]=l=>b.aadhaarNumber=l),label:"Aadhaar Number",rules:[m(n).maxLength(12),m(n).minLength(12)]},null,8,["modelValue","rules"])]),_:1})):C("",!0),R.value?(f(),g(o,{key:1,cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:b.drivingLicense,"onUpdate:modelValue":t[18]||(t[18]=l=>b.drivingLicense=l),label:"Driving License",rules:[m(n).maxLength(15),m(n).minLength(15)]},null,8,["modelValue","rules"])]),_:1})):C("",!0),R.value?(f(),g(o,{key:2,cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:b.electionID,"onUpdate:modelValue":t[19]||(t[19]=l=>b.electionID=l),label:"Election ID",rules:[m(n).maxLength(10),m(n).minLength(10)]},null,8,["modelValue","rules"])]),_:1})):C("",!0),R.value?(f(),g(o,{key:3,cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:b.passportNumber,"onUpdate:modelValue":t[20]||(t[20]=l=>b.passportNumber=l),label:"Passport Number",rules:[m(n).maxLength(8),m(n).minLength(8)]},null,8,["modelValue","rules"])]),_:1})):C("",!0),R.value?(f(),g(o,{key:4,cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:b.postBoxNumber,"onUpdate:modelValue":t[21]||(t[21]=l=>b.postBoxNumber=l),label:"Post Box Number"},null,8,["modelValue"])]),_:1})):C("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),"item.3":a(()=>[e(L,{modelValue:p.valid,"onUpdate:modelValue":t[28]||(t[28]=l=>p.valid=l)},{default:a(()=>[e(O,{title:"Occupation"},{default:a(()=>[e(N,{class:"border border-secondary rounded pa-2 mb-3"},{default:a(()=>[e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:p.job,"onUpdate:modelValue":t[23]||(t[23]=l=>p.job=l),label:"Occupation (ജോലി)",required:""},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"3"},{default:a(()=>[e(s,{variant:"outlined",modelValue:p.retirementDate,"onUpdate:modelValue":t[24]||(t[24]=l=>p.retirementDate=l),label:"Retirement Date (വിരമിക്കുന്ന തീയതി)",type:"date"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"3"},{default:a(()=>[e(Ae,{modelValue:p.isRedirected,"onUpdate:modelValue":t[25]||(t[25]=l=>p.isRedirected=l),label:"Redirection Address (Retd Add.)"},null,8,["modelValue"])]),_:1}),p.isRedirected?(f(),g(o,{key:0,cols:"12",md:"6"},{default:a(()=>[e(s,{variant:"outlined",modelValue:p.redirectedHouseName,"onUpdate:modelValue":t[26]||(t[26]=l=>p.redirectedHouseName=l),label:"Redirected House Name"},null,8,["modelValue"])]),_:1})):C("",!0),p.isRedirected?(f(),g(o,{key:1,cols:"12",md:"6"},{default:a(()=>[e(s,{variant:"outlined",modelValue:p.redirectedHouseNumber,"onUpdate:modelValue":t[27]||(t[27]=l=>p.redirectedHouseNumber=l),label:"Redirected House Number"},null,8,["modelValue"])]),_:1})):C("",!0)]),_:1})]),_:1}),e(N,null,{default:a(()=>[e(o,{cols:"12"},{default:a(()=>[e(O,{title:"Other Addresses"},{default:a(()=>[(f(!0),x(M,null,H(p.addresses,(l,V)=>(f(),g(N,{class:"border border-secondary rounded pa-2 mb-3",key:V},{default:a(()=>[e(o,{cols:"12",md:"3"},{default:a(()=>[e(s,{variant:"outlined",modelValue:l.houseName,"onUpdate:modelValue":u=>l.houseName=u,label:"House Name"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e(s,{variant:"outlined",modelValue:l.houseNumber,"onUpdate:modelValue":u=>l.houseNumber=u,label:"House Number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e(s,{variant:"outlined",modelValue:l.streetName,"onUpdate:modelValue":u=>l.streetName=u,label:"Street Name"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e(s,{variant:"outlined",modelValue:l.streetNumber,"onUpdate:modelValue":u=>l.streetNumber=u,label:"Street Number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e(s,{variant:"outlined",modelValue:l.village,"onUpdate:modelValue":u=>l.village=u,label:"Village (വില്ലേജ്)"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e(s,{variant:"outlined",modelValue:l.postOffice,"onUpdate:modelValue":u=>l.postOffice=u,label:"Post Office (പോസ്റ്റ് ഓഫീസ്)"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e($,{variant:"outlined",modelValue:l.locationType,"onUpdate:modelValue":u=>l.locationType=u,items:["Domestic (സ്വദേശത്ത്)","Abroad (വിദേശത്ത്)"],label:"Location Type"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e(j,null,{default:a(()=>[e(D,{color:"error",onClick:u=>ae(V)},{default:a(()=>t[36]||(t[36]=[S("Remove")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),e(N,null,{default:a(()=>[e(o,{cols:"12"},{default:a(()=>[e(D,{color:"secondary",onClick:le},{default:a(()=>t[37]||(t[37]=[S("New Address")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),"item.4":a(()=>[e(L,{modelValue:y.valid,"onUpdate:modelValue":t[31]||(t[31]=l=>y.valid=l)},{default:a(()=>[e(O,{title:"Marriage Information"},{default:a(()=>[e(N,{class:"border border-secondary rounded pa-2 mb-3"},{default:a(()=>[e(o,{cols:"12",md:"3"},{default:a(()=>[e(s,{variant:"outlined",modelValue:y.marriageDate,"onUpdate:modelValue":t[29]||(t[29]=l=>y.marriageDate=l),label:"Marriage Date (വിവാഹം നടന്ന തീയതി, മാസം, വർഷം)",type:"date"},null,8,["modelValue"])]),_:1}),e(o,{cols:"12",md:"5"},{default:a(()=>[e(s,{variant:"outlined",modelValue:y.previousAddress,"onUpdate:modelValue":t[30]||(t[30]=l=>y.previousAddress=l),label:"Previous Address (മുമ്പത്തെ മേൽവിലാസം)"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(O,{title:"Child Record"},{default:a(()=>[e(N,null,{default:a(()=>[(f(!0),x(M,null,H(y.children,(l,V)=>(f(),g(o,{cols:"12",key:V},{default:a(()=>[e(N,{class:"border border-secondary rounded mb-1"},{default:a(()=>[e(o,{cols:"12",md:"4"},{default:a(()=>[e(s,{variant:"outlined",modelValue:l.name,"onUpdate:modelValue":u=>l.name=u,label:"Child's Name",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e(s,{variant:"outlined",modelValue:l.dateOfBirth,"onUpdate:modelValue":u=>l.dateOfBirth=u,label:"Child's Date of Birth (കുട്ടി ജനിച്ച തീയതി)",type:"date",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"2"},{default:a(()=>[e($,{variant:"outlined",modelValue:l.gender,"onUpdate:modelValue":u=>l.gender=u,items:["male","female"],label:"Child's Gender (Male/ Female)",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"2"},{default:a(()=>[e(j,null,{default:a(()=>[e(D,{color:"error",onClick:u=>oe(V)},{default:a(()=>t[38]||(t[38]=[S("Remove")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),e(o,{cols:"12"},{default:a(()=>[e(D,{color:"secondary",onClick:te},{default:a(()=>t[39]||(t[39]=[S("Add Child")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),"item.5":a(()=>[e(L,{modelValue:A.valid,"onUpdate:modelValue":t[32]||(t[32]=l=>A.valid=l)},{default:a(()=>[e(O,{title:"Policy Details"},{default:a(()=>[e(N,null,{default:a(()=>[(f(!0),x(M,null,H(A.policies,(l,V)=>(f(),g(o,{cols:"12",key:V},{default:a(()=>[e(N,{class:"border border-secondary rounded pa-2 mb-3"},{default:a(()=>[e(o,{cols:"12",md:"4"},{default:a(()=>[e($,{variant:"outlined",modelValue:l.type,"onUpdate:modelValue":u=>l.type=u,items:["Account Number","PLI Number","RPLI Number","IPPB Number","Savings Bank Number","Other Account Numbers"],label:"Policy Type",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"6"},{default:a(()=>[e(s,{variant:"outlined",modelValue:l.number,"onUpdate:modelValue":u=>l.number=u,label:"Policy Number",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(o,{cols:"12",md:"1"},{default:a(()=>[e(j,null,{default:a(()=>[e(D,{color:"error",onClick:u=>se(V)},{default:a(()=>t[40]||(t[40]=[S("Remove")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),e(o,{cols:"12"},{default:a(()=>[e(D,{color:"secondary",onClick:re},{default:a(()=>t[41]||(t[41]=[S("Add Policy")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),"item.6":a(()=>[e(L,{modelValue:w.valid,"onUpdate:modelValue":t[33]||(t[33]=l=>w.valid=l)},{default:a(()=>[e(O,{title:"Supporting Documents"},{default:a(()=>[e(N,null,{default:a(()=>[(f(!0),x(M,null,H(w.documents,(l,V)=>(f(),g(o,{cols:"12",key:V},{default:a(()=>[e(N,{class:"border border-secondary rounded pa-2 mb-3"},{default:a(()=>[e(o,{cols:"12",md:"3"},{default:a(()=>[e(s,{variant:"outlined",modelValue:l.name,"onUpdate:modelValue":u=>l.name=u,label:"Document Name (e.g., Aadhaar Copy, Address Proof)",rules:[m(n).required]},null,8,["modelValue","onUpdate:modelValue","rules"])]),_:2},1024),e(o,{cols:"12",md:"3"},{default:a(()=>[e(W,{label:"Upload Document",rules:[m(n).required],onUploaded:u=>Ve(u,V)},null,8,["rules","onUploaded"])]),_:2},1024),e(o,{cols:"12",md:"4"},{default:a(()=>[e(j,null,{default:a(()=>[e(D,{color:"error",onClick:u=>ue(V)},{default:a(()=>t[42]||(t[42]=[S("Remove")])),_:2},1032,["onClick"]),e(D,{color:"primary",onClick:u=>ve(V)},{default:a(()=>t[43]||(t[43]=[S("View Document")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),e(o,{cols:"12"},{default:a(()=>[e(D,{color:"secondary",onClick:de},{default:a(()=>t[44]||(t[44]=[S("Add Document")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(qe,{isVisible:G.value,file:J.value||"","onUpdate:isVisible":t[34]||(t[34]=l=>G.value=l)},null,8,["isVisible","file"])]),"item.7":a(()=>[e(O,{title:"Review & Submit"},{default:a(()=>[e(Be,{form:{...r,...b,...p,...y,...A,...w}},null,8,["form"])]),_:1})]),actions:a(({})=>[e(N,{class:"d-flex align-center justify-space-between ma-5"},{default:a(()=>[e(D,{disabled:c.step===1,outlined:"",color:"secondary",onClick:ce},{default:a(()=>t[45]||(t[45]=[S(" Back ")])),_:1},8,["disabled"]),e(Re),c.step<c.items.length?(f(),g(D,{key:0,loading:v.value,color:"secondary",disabled:!K.value,onClick:pe},{default:a(()=>t[46]||(t[46]=[S(" Save & Continue ")])),_:1},8,["loading","disabled"])):C("",!0),c.step===c.items.length?(f(),g(D,{key:1,color:"secondary",onClick:me},{default:a(()=>t[47]||(t[47]=[S(" Finish & Submit ")])),_:1})):C("",!0)]),_:1})]),_:1},8,["editable","modelValue","items"])]),_:1})],64))}});export{Je as default};
